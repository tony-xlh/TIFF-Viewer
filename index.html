<!DOCTYPE html>
<html>
<head>
  <title>TIFF Viewer Example</title>
  <script src="https://unpkg.com/dwt@18.0.0/dist/dynamsoft.webtwain.min.js"></script>
  <style>
    #dwtcontrolContainer {
      width: 270px;
      height: 360px;
    }
  </style>
</head>
<body>
  <label>
    Select a TIFF file to load:
    <input type="file" id="file" onchange="tiffSelected();" accept=".tiff,.tif"/>
  </label>
  <div id="dwtcontrolContainer"></div>
  <script type="text/javascript">
    let DWObject;
    Dynamsoft.DWT.AutoLoad = false;
    Dynamsoft.DWT.ResourcesPath = "https://unpkg.com/dwt@18.0.0/dist";
    init();
    function init(){
      Dynamsoft.DWT.Containers = [{ ContainerId: 'dwtcontrolContainer',Width: 270, Height: 350 }];
      Dynamsoft.DWT.RegisterEvent('OnWebTwainReady', function () {
        console.log("ready");
        DWObject = Dynamsoft.DWT.GetWebTwain('dwtcontrolContainer');
        DWObject.Viewer.width = "100%";
        DWObject.Viewer.height = "100%";
        DWObject.SetViewMode(1,1);
      });
      Dynamsoft.DWT.Load();
    }

    function tiffSelected(){
      let files = document.getElementById("file").files;
      if (files.length>0 && DWObject) {
        let file = files[0];
        DWObject.LoadImageFromBinary(file);
      }
    }
  </script>
</body>

</html>